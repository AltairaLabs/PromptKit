# SonarCloud configuration for PromptKit
sonar.projectKey=AltairaLabs_PromptKit
sonar.organization=altairalabs

# Project metadata
sonar.projectName=PromptKit
sonar.projectVersion=1.0

# Source configuration - Include Go, TypeScript, and JavaScript production source files
sonar.sources=sdk,runtime,tools,pkg,.github/actions,npm
sonar.inclusions=**/*.go,**/*.ts,**/*.js
sonar.exclusions=**/*_test.go,**/test_*.go,**/*.test.ts,**/*.test.js,**/tests/**,**/testdata/**,**/vendor/**,**/bin/**,**/docs/**,**/*.md,**/.git/**,**/node_modules/**,**/examples/**,**/*example*/**,**/.vscode/**,**/.scannerwork/**,**/*_interactive.go,**/__mocks__/**,**/dist/**,**/coverage/**,**/jest.config.js,**/jest.config.ts

# Test files completely excluded from analysis
# sonar.tests=.
# sonar.test.inclusions=**/*_test.go
# sonar.test.exclusions=**/vendor/**

# Go specific settings
sonar.go.coverage.reportPaths=coverage.out
sonar.go.golangci-lint.reportPaths=golangci-lint-report.json

# TypeScript/JavaScript coverage settings (GitHub Actions and npm packages)
sonar.typescript.lcov.reportPaths=.github/actions/promptarena-action/coverage/lcov.info,.github/actions/packc-action/coverage/lcov.info
sonar.javascript.lcov.reportPaths=npm/promptarena/coverage/lcov.info,npm/packc/coverage/lcov.info

# Coverage exclusions - exclude example code, untestable interactive I/O code, integration test code, TypeScript build artifacts, npm bin wrappers, and test helpers
sonar.coverage.exclusions=**/examples/**,**/*example*/**,**/tools/arena/cmd/promptarena/init.go,**/*_interactive.go,**/*_integration.go,**/__mocks__/**,**/dist/**,**/npm/**/bin/**,**/npm/**/postinstall.js,**/providers/provider_contract.go

# Duplication exclusions - fan-in accumulator stages share intentional design pattern code
# npm package installers share identical bootstrapping logic by design
# GitHub Actions runner files have similar patterns across actions
# Provider tool/streaming implementations share interface-mandated patterns
sonar.cpd.exclusions=**/runtime/pipeline/stage/stages_video_frames.go,**/runtime/pipeline/stage/stages_media_compose.go,**/npm/**/lib/installer.js,**/npm/**/postinstall.js,**/runtime/providers/openai/openai_tools.go,**/runtime/providers/claude/claude_tools.go,**/runtime/providers/gemini/gemini_tools.go,**/runtime/providers/claude/claude_streaming.go,**/runtime/providers/gemini/gemini_streaming.go,**/.github/actions/**/src/runner.ts

# Function-level coverage exclusions using patterns
# Exclude untestable interactive I/O functions in init.go (require terminal stdin/stdout)
# e7: Disable TODO comment rule globally (S1135) - TODOs are tracked in project management
# e8: Disable godre:S8148 rule globally
# e9: Disable godre:S8177 rule globally
# e10: Disable godre:S8179 rule globally
# e11: Disable godre:S1172 (unused parameters) - rely on golangci-lint/unparam instead
sonar.issue.ignore.multicriteria=e1,e2,e3,e4,e5,e6,e7,e8,e9,e10,e11,e12,e13,e14,e15,e16,e17,e18,e19,e20,e21,e22,e23
sonar.issue.ignore.multicriteria.e1.ruleKey=go:S1186
sonar.issue.ignore.multicriteria.e1.resourceKey=**/tools/arena/cmd/promptarena/init.go
sonar.issue.ignore.multicriteria.e2.ruleKey=go:S3776
sonar.issue.ignore.multicriteria.e2.resourceKey=**/tools/arena/cmd/promptarena/init.go
sonar.issue.ignore.multicriteria.e3.ruleKey=go:S6508
sonar.issue.ignore.multicriteria.e3.resourceKey=**/tools/arena/cmd/promptarena/init.go
sonar.issue.ignore.multicriteria.e4.ruleKey=go:S125
sonar.issue.ignore.multicriteria.e4.resourceKey=**/tools/arena/cmd/promptarena/init.go
sonar.issue.ignore.multicriteria.e5.ruleKey=common-go:InsufficientLineCoverage
sonar.issue.ignore.multicriteria.e5.resourceKey=**/tools/arena/cmd/promptarena/init.go
sonar.issue.ignore.multicriteria.e6.ruleKey=common-go:InsufficientBranchCoverage
sonar.issue.ignore.multicriteria.e6.resourceKey=**/tools/arena/cmd/promptarena/init.go
sonar.issue.ignore.multicriteria.e12.ruleKey=common-go:InsufficientLineCoverage
sonar.issue.ignore.multicriteria.e12.resourceKey=**/*_interactive.go
sonar.issue.ignore.multicriteria.e13.ruleKey=common-go:InsufficientBranchCoverage
sonar.issue.ignore.multicriteria.e13.resourceKey=**/*_interactive.go
sonar.issue.ignore.multicriteria.e14.ruleKey=go:S3776
sonar.issue.ignore.multicriteria.e14.resourceKey=**/*_interactive.go
sonar.issue.ignore.multicriteria.e15.ruleKey=common-go:InsufficientLineCoverage
sonar.issue.ignore.multicriteria.e15.resourceKey=**/*_integration.go
sonar.issue.ignore.multicriteria.e16.ruleKey=common-go:InsufficientBranchCoverage
sonar.issue.ignore.multicriteria.e16.resourceKey=**/*_integration.go
sonar.issue.ignore.multicriteria.e17.ruleKey=go:S3776
sonar.issue.ignore.multicriteria.e17.resourceKey=**/*_integration.go
sonar.issue.ignore.multicriteria.e7.ruleKey=go:S1135
sonar.issue.ignore.multicriteria.e7.resourceKey=**/*.go
sonar.issue.ignore.multicriteria.e8.ruleKey=godre:S8148
sonar.issue.ignore.multicriteria.e8.resourceKey=**/*.go
sonar.issue.ignore.multicriteria.e9.ruleKey=godre:S8177
sonar.issue.ignore.multicriteria.e9.resourceKey=**/*.go
sonar.issue.ignore.multicriteria.e10.ruleKey=godre:S8179
sonar.issue.ignore.multicriteria.e10.resourceKey=**/*.go
sonar.issue.ignore.multicriteria.e11.ruleKey=godre:S1172
sonar.issue.ignore.multicriteria.e11.resourceKey=**/*.go
# e18-e23: Security hotspots on interactive files (local development tools)
sonar.issue.ignore.multicriteria.e18.ruleKey=go:S4823
sonar.issue.ignore.multicriteria.e18.resourceKey=**/*_interactive.go
sonar.issue.ignore.multicriteria.e19.ruleKey=go:S4797
sonar.issue.ignore.multicriteria.e19.resourceKey=**/*_interactive.go
sonar.issue.ignore.multicriteria.e20.ruleKey=go:S5131
sonar.issue.ignore.multicriteria.e20.resourceKey=**/*_interactive.go
sonar.issue.ignore.multicriteria.e21.ruleKey=go:S2245
sonar.issue.ignore.multicriteria.e21.resourceKey=**/*_interactive.go
sonar.issue.ignore.multicriteria.e22.ruleKey=go:S4790
sonar.issue.ignore.multicriteria.e22.resourceKey=**/*_interactive.go
sonar.issue.ignore.multicriteria.e23.ruleKey=go:S5122
sonar.issue.ignore.multicriteria.e23.resourceKey=**/*_interactive.go

# Quality gate settings
sonar.qualitygate.wait=true