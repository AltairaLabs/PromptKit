apiVersion: promptkit.altairalabs.ai/v1alpha1
kind: Arena
metadata:
  name: ollama-k8s
  annotations:
    description: "Test suite for Ollama running on Kubernetes - validates streaming and multimodal support"
spec:
  prompt_configs:
    - id: assistant
      file: prompts/assistant.yaml
    - id: vision-assistant
      file: prompts/vision-assistant.yaml

  providers:
    # Standard LLM for text-only scenarios
    - file: providers/ollama-k8s.provider.yaml
    # Vision model for multimodal scenarios
    - file: providers/ollama-vision-k8s.provider.yaml

  scenarios:
    # Basic functionality tests
    - file: scenarios/basic-chat.scenario.yaml
    - file: scenarios/code-generation.scenario.yaml
    # Streaming verification tests
    - file: scenarios/streaming-verification.scenario.yaml
    # Multimodal vision tests (requires vision provider)
    - file: scenarios/multimodal-vision.scenario.yaml

  defaults:
    temperature: 0.7
    max_tokens: 2048
    concurrency: 1
    output:
      dir: out
      formats: ["json", "html"]
      html:
        file: report-k8s.html
