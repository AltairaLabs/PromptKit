apiVersion: promptkit.altairalabs.ai/v1alpha1
kind: Arena
metadata:
  name: variables-demo-arena
  annotations:
    description: "Demonstrates how to use variables in promptconfigs and override them"
spec:
  # EXAMPLE 1: Using a promptconfig with optional variables (no overrides)
  # This will use all the default values defined in restaurant-bot.yaml
  prompt_configs:
    - id: restaurant-default
      file: prompts/restaurant-bot.yaml
      # No vars specified - uses defaults:
      # - restaurant_name: "TastyBites"
      # - cuisine_type: "Italian"
      # - opening_hours: "11 AM - 10 PM daily"
      # etc.

    # EXAMPLE 2: Overriding some optional variables
    # This uses a separate prompt file (same template, different task_type)
    # to override specific variables while keeping others at default
    - id: restaurant-custom
      file: prompts/restaurant-bot-custom.yaml
      vars:
        restaurant_name: "Sushi Haven"
        cuisine_type: "Japanese"
        opening_hours: "12 PM - 11 PM, closed Mondays"
        dress_code: "Casual"
        # Other variables (phone_number, policies, etc.) use defaults

    # EXAMPLE 3: Providing required variables
    # This promptconfig has required_vars that MUST be provided
    - id: product-support
      file: prompts/product-expert.yaml
      vars:
        # Required variables (must provide these)
        company_name: "TechStart Inc"
        product_name: "CloudSync Pro"
        support_email: "support@techstart.com"
        # Optional variables (can override defaults)
        support_hours: "9 AM - 5 PM EST, Monday-Friday"
        warranty_period: "2 years"
        product_category: "cloud storage"
        # return_window uses default: "30 days"

    # EXAMPLE 4: Multiple configurations using a separate prompt file
    # Same template structure, different task_type for enterprise tier
    - id: product-support-enterprise
      file: prompts/product-expert-enterprise.yaml
      vars:
        company_name: "TechStart Inc"
        product_name: "CloudSync Enterprise"
        support_email: "enterprise@techstart.com"
        support_hours: "24/7 with dedicated account manager"
        warranty_period: "3 years with SLA"
        return_window: "60 days"
        product_category: "enterprise cloud storage"

  providers:
    - file: providers/openai-gpt4o-mini.provider.yaml
    - file: providers/mock-provider.provider.yaml
    - file: providers/selfplay-mock.provider.yaml

  scenarios:
    - file: scenarios/restaurant-default.scenario.yaml
    - file: scenarios/restaurant-custom.scenario.yaml
    - file: scenarios/product-support.scenario.yaml
    - file: scenarios/product-enterprise.scenario.yaml

  self_play:
    enabled: true
    personas:
      - file: personas/selfplay-default.persona.yaml
    roles:
      - id: assistant-selfplay
        provider: selfplay-mock

  defaults:
    temperature: 0.7
    max_tokens: 1000
    seed: 42
    concurrency: 2
    output:
      dir: out
      formats: ["json", "html"]
      html:
        file: report.html
