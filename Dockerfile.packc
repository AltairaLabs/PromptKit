# Multi-stage build for packc
FROM alpine:latest

# Install ca-certificates for HTTPS
RUN apk --no-cache add ca-certificates

# Copy the binary from goreleaser context
COPY packc /usr/local/bin/packc

# Create a non-root user
RUN adduser -D -u 1000 packc

# Switch to non-root user
USER packc

# Set working directory
WORKDIR /home/packc

# Default command
ENTRYPOINT ["/usr/local/bin/packc"]
CMD ["--help"]
